double f(double x) {
    return (((x <= -1.3389308533534315e+154) || (!(x <= 5.608827417204937e+153))) ? (
            ((pow(((1.0 / (x - 1.0)) - (2.0 / x)), 2.0)) - ((1.0 / (x + 1.0)) * (1.0 / (x + 1.0)))) /
            (((1.0 / (x - 1.0)) - (2.0 / x)) - (1.0 / (x + 1.0)))) : (
                    (((x + 1.0) * ((x * 1.0) - ((x - 1.0) * 2.0))) + (1.0 * (x * (x - 1.0)))) /
                    ((x + 1.0) * (x * (x - 1.0)))));
}
